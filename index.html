<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AI Scanner — A4 文档自动识别与矫正</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <div class="app">
    <header class="app-header">
      <h1>AI Scanner</h1>
      <p class="sub">本地 OpenCV.js — 背景鲁棒识别 · 自动正向 · A4 输出</p>
    </header>

    <section class="controls">
      <input id="fileInput" type="file" accept="image/*" multiple hidden>
      <label class="btn" for="fileInput">选择文件</label>
      <button id="prevBtn" class="btn" type="button">上一张</button>
      <button id="nextBtn" class="btn" type="button">下一张</button>
      <span id="statusBar" class="status">就绪</span>
    </section>

    <section class="viewer">
      <div class="canvas-wrap">
        <canvas id="resultCanvas" width="1240" height="1754" aria-label="A4输出"></canvas>
      </div>
      <aside class="thumbs">
        <ul id="thumbList" class="thumb-list"></ul>
      </aside>
    </section>

    <footer class="app-footer">
      <small>提示：不依赖 OCR，采用几何+纹理评分与上下密度校正，适配非深色或杂乱背景。</small>
    </footer>
  </div>

  <!-- 本地脚本，仅保留 OpenCV 与应用脚本，避免 CSP 外链问题 -->
  <script src="./opencv.js?v=20260202" defer></script>
  <script src="./app.v2.js?v=20260202" defer></script>
</body>
</html>
